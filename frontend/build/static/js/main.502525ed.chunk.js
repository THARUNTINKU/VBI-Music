(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(21),c=a.n(r),i=(a(86),a(7)),l=a(81),o=a(23),j=a(11),d=a(73),u=(a(62),a(40)),p=a(125),b=a(126),h=a(123),O=a(10),x=a.n(O),f=a(18),g=a(19),m=a.n(g),y="USER_LOGIN_REQUEST",v="USER_LOGIN_SUCCESS",S="USER_LOGIN_FAIL",L="USER_LOGOUT",N="USER_REGISTER_REQUEST",E="USER_REGISTER_SUCCESS",I="USER_REGISTER_FAIL",C=function(){return function(e){localStorage.removeItem("userInfo"),e({type:L}),document.location.href="/login"}},w=a(8),T=a(74),_=a(42),A=a(1),k=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),c=Object(w.a)(r,2),i=c[0],l=c[1];return Object(A.jsx)(d.a,{children:Object(A.jsxs)(T.a,{className:"button-group-tabs d-flex justify-content-center","aria-label":"list type",children:[Object(A.jsx)(u.LinkContainer,{to:"/songs",children:Object(A.jsx)(_.a,{variant:a?"primary":"light",onClick:function(){s(!0),l(!1)},children:"All Songs"})}),Object(A.jsx)(u.LinkContainer,{to:"/playlists",children:Object(A.jsx)(_.a,{variant:i?"primary":"light",onClick:function(){l(!0),s(!1)},children:"All Playlists"})})]})})},P=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userLogin})).userInfo;return Object(A.jsxs)("header",{children:[Object(A.jsx)(p.a,{bg:"light",variant:"primary",expand:"lg",collapseOnSelect:!0,children:Object(A.jsxs)(d.a,{children:[Object(A.jsxs)(p.a.Brand,{href:"/",style:{color:"primary"},children:[Object(A.jsx)("i",{className:"fas fa-music"})," VBI Music"]}),Object(A.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(A.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(A.jsx)(b.a,{className:"ml-auto",children:t?Object(A.jsx)(h.a,{title:t.name,id:"username",children:Object(A.jsx)(h.a.Item,{onClick:function(){e(C())},children:"Logout"})}):Object(A.jsx)(u.LinkContainer,{to:"/login",children:Object(A.jsxs)(b.a.Link,{children:[Object(A.jsx)("i",{className:"fas fa-user"})," Sign In"]})})})})]})}),Object(A.jsx)("div",{className:"py-3",children:Object(A.jsx)(k,{})})]})},R=a(120),B=a(77),U=function(){return Object(A.jsx)("footer",{children:Object(A.jsx)(d.a,{children:Object(A.jsx)(R.a,{children:Object(A.jsx)(B.a,{className:"text-center py-3",children:"Copyrights \xa9 VBI Music"})})})})},D=function(){return Object(A.jsx)("h1",{children:"Not Found 404 Error"})},G=a(124),F=a(127),Y=function(e){var t=e.variant,a=e.children;return Object(A.jsx)(F.a,{variant:t,children:a})};Y.defaultProps={variant:"info"};var z=Y,Q=a(121),M=function(){return Object(A.jsx)(Q.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(A.jsx)("span",{className:"sr-only",children:"Loading..."})})},J=function(e){var t=e.children;return Object(A.jsx)(d.a,{children:Object(A.jsx)(R.a,{className:"justify-content-md-center",children:Object(A.jsx)(B.a,{xs:12,md:6,children:t})})})},V=function(e){var t=e.location,a=e.history,s=Object(n.useState)(""),r=Object(w.a)(s,2),c=r[0],l=r[1],j=Object(n.useState)(""),d=Object(w.a)(j,2),u=d[0],p=d[1],b=Object(n.useState)(""),h=Object(w.a)(b,2),O=h[0],g=h[1],y=Object(n.useState)(""),S=Object(w.a)(y,2),L=S[0],C=S[1],T=Object(n.useState)(null),k=Object(w.a)(T,2),P=k[0],U=k[1],D=Object(i.b)(),F=Object(i.c)((function(e){return e.userRegister})),Y=F.loading,Q=F.error,V=F.userInfo,q=t.search?t.search.split("=")[1]:"/songs";Object(n.useEffect)((function(){V&&a.push(q)}),[a,V,q]);return Object(A.jsxs)(J,{children:[Object(A.jsx)("h1",{children:"Sign Up"}),P&&Object(A.jsx)(z,{variant:"danger",children:P}),Q&&Object(A.jsx)(z,{variant:"danger",children:Q}),Y&&Object(A.jsx)(M,{}),Object(A.jsxs)(G.a,{onSubmit:function(e){e.preventDefault(),O!==L?U("Passwords do not match"):D(function(e,t,a){return function(){var n=Object(f.a)(x.a.mark((function n(s){var r,c,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s({type:N}),r={headers:{"Content-Type":"application/json"}},n.next=5,m.a.post("/api/users",{name:e,email:t,password:a},r);case 5:c=n.sent,i=c.data,s({type:E,payload:i}),s({type:v,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),s({type:I,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(c,u,O))},children:[Object(A.jsxs)(G.a.Group,{controlId:"name",children:[Object(A.jsx)(G.a.Label,{children:"Name"}),Object(A.jsx)(G.a.Control,{type:"name",placeholder:"Enter name",value:c,onChange:function(e){return l(e.target.value)}})]}),Object(A.jsxs)(G.a.Group,{controlId:"email",children:[Object(A.jsx)(G.a.Label,{children:"Email Address"}),Object(A.jsx)(G.a.Control,{type:"email",placeholder:"Enter email",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(A.jsxs)(G.a.Group,{controlId:"password",children:[Object(A.jsx)(G.a.Label,{children:"Password"}),Object(A.jsx)(G.a.Control,{type:"password",placeholder:"Enter password",value:O,onChange:function(e){return g(e.target.value)}})]}),Object(A.jsxs)(G.a.Group,{controlId:"confirmPassword",children:[Object(A.jsx)(G.a.Label,{children:"Confirm Password"}),Object(A.jsx)(G.a.Control,{type:"password",placeholder:"Confirm password",value:L,onChange:function(e){return C(e.target.value)}})]}),Object(A.jsx)(_.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(A.jsx)(R.a,{className:"py-3",children:Object(A.jsxs)(B.a,{children:["Have an Account?"," ",Object(A.jsx)(o.Link,{to:q?"/login?redirect=".concat(q):"/login",children:"Login"})]})})]})},q=function(e){var t=e.location,a=e.history,s=Object(n.useState)(""),r=Object(w.a)(s,2),c=r[0],l=r[1],j=Object(n.useState)(""),d=Object(w.a)(j,2),u=d[0],p=d[1],b=Object(i.b)(),h=Object(i.c)((function(e){return e.userLogin})),O=h.loading,g=h.error,L=h.userInfo,N=t.search?t.search.split("=")[1]:"/songs";Object(n.useEffect)((function(){L&&a.push(N)}),[a,L,N]);return Object(A.jsxs)(J,{children:[Object(A.jsx)("h1",{children:"Sign In"}),g&&Object(A.jsx)(z,{variant:"danger",children:g}),O&&Object(A.jsx)(M,{}),Object(A.jsxs)(G.a,{onSubmit:function(e){e.preventDefault(),b(function(e,t){return function(){var a=Object(f.a)(x.a.mark((function a(n){var s,r,c;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:y}),s={headers:{"Content-Type":"application/json"}},a.next=5,m.a.post("/api/users/login",{email:e,password:t},s);case 5:r=a.sent,c=r.data,n({type:v,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:S,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(c,u))},children:[Object(A.jsxs)(G.a.Group,{controlId:"email",children:[Object(A.jsx)(G.a.Label,{children:"Email Address"}),Object(A.jsx)(G.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return l(e.target.value)}})]}),Object(A.jsxs)(G.a.Group,{controlId:"password",children:[Object(A.jsx)(G.a.Label,{children:"Password"}),Object(A.jsx)(G.a.Control,{type:"password",placeholder:"Enter password",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(A.jsx)(_.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(A.jsx)(R.a,{className:"py-3",children:Object(A.jsxs)(B.a,{children:["New Customer?"," ",Object(A.jsx)(o.Link,{to:N?"/register?redirect=".concat(N):"/register",children:"Register"})]})})]})},W=function(){return Object(A.jsx)(J,{children:Object(A.jsx)("h2",{children:"Welcome to VBI Music \ud83d\ude42"})})},H=a(78),K=a(52),X=function(e){var t=e.searchBoxChange,a=e.searchBoxText;return Object(A.jsx)("div",{style:{width:"100%"},children:Object(A.jsx)(H.a,{className:"mb-3",children:Object(A.jsx)(K.a,{type:"text",className:"form-control",name:"searchBox",placeholder:"Search by song title...",id:"searchBox",autoFocus:"",onChange:function(e){return t(e.target.value)},required:!0,autoComplete:"off",value:a})})})},Z=a(128),$=a(122),ee=function(e){var t=e.song,a=e.showDelete,n=e.showAddSong,s=e.handleAddPlaylists,r=e.removeSongFromPlaylist;return Object(A.jsx)(Z.a,{className:"mb-4",children:Object(A.jsx)("div",{style:{backgroundColor:"white"},children:Object(A.jsxs)(R.a,{noGutters:!0,children:[Object(A.jsx)(B.a,{md:2,children:Object(A.jsx)($.a,{src:t.image,alt:"music image"})}),Object(A.jsx)(B.a,{md:6,pt:3,"pt-md":3,"pt-sm":1,children:Object(A.jsxs)(Z.a.Body,{children:[Object(A.jsxs)(Z.a.Title,{children:[Object(A.jsx)("span",{children:"Title : "})," ",t.title]}),Object(A.jsxs)(Z.a.Subtitle,{className:"text-muted",children:[Object(A.jsx)("span",{children:"Album : "}),t.album]}),Object(A.jsxs)(Z.a.Text,{children:["Singers : ",t.singer]})]})}),Object(A.jsx)(B.a,{md:4,className:"px-auto pt-md-5 pt-sm-1 mb-2",children:Object(A.jsxs)(R.a,{noGutters:!0,children:[Object(A.jsx)(B.a,{className:"d-flex justify-content-center",children:Object(A.jsxs)("span",{children:["Play time :",t.duration?t.duration:"N/A"]})}),Object(A.jsxs)(B.a,{className:"d-flex justify-content-center",children:[a?Object(A.jsx)(T.a,{"aria-label":"list type",children:Object(A.jsxs)(_.a,{variant:"danger",onClick:r,children:[Object(A.jsx)("i",{className:"fas fa-minus-circle"})," ","Remove"]})}):null,n?Object(A.jsx)(T.a,{"aria-label":"list type",children:Object(A.jsxs)(_.a,{variant:"dark",onClick:s,children:[Object(A.jsx)("i",{className:"fas fa-plus"})," Add to list"]})}):null]})]})})]})})})},te="SONG_LIST_REQUEST",ae="SONG_LIST_SUCCESS",ne="SONG_LIST_FAIL",se=function(){return function(){var e=Object(f.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:te}),e.next=4,m.a.get("/api/songs");case 4:a=e.sent,t({type:ae,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:ne,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},re=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.songList})),a=t.loading,s=t.error,r=t.songs,c=void 0===r?[]:r,l=Object(n.useState)(""),o=Object(w.a)(l,2),j=o[0],u=o[1],p=Object(n.useState)([]),b=Object(w.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(""),f=Object(w.a)(x,2),g=f[0],m=f[1];Object(n.useEffect)((function(){if(0!==c.length||s||e(se()),c.length>0||""!==j){var t=c.filter((function(e){return e.title.toLowerCase().includes(j)}));O(t),0===t.length?m("No records"):1===t.length?m("Found 1 record"):t.length>1&&m("Showing ".concat(t.length," records"))}}),[e,j,a]);return Object(A.jsxs)("div",{children:[Object(A.jsx)(X,{searchBoxText:j,searchBoxChange:function(e){u(e)}}),j?Object(A.jsx)("div",{style:{float:"right",paddingBottom:"1%"},children:g}):null,Object(A.jsx)("h2",{children:"Latest songs"}),a?Object(A.jsx)(M,{}):s?Object(A.jsx)(z,{variant:"danger",children:s}):Object(A.jsx)(d.a,{className:"py-3",children:h.map((function(e,t){return Object(A.jsx)(ee,{song:e,showDelete:!1,showAddSong:!1,isEditPlaylist:!1},t)}))})]})},ce="PLAYLIST_LIST_REQUEST",ie="PLAYLIST_LIST_SUCCESS",le="PLAYLIST_LIST_FAIL",oe="PLAYLIST_DETAILS_REQUEST",je="PLAYLIST_DETAILS_SUCCESS",de="PLAYLIST_DETAILS_FAIL",ue="PLAYLIST_DETAILS_RESET",pe="PLAYLIST_CREATE_REQUEST",be="PLAYLIST_CREATE_SUCCESS",he="PLAYLIST_CREATE_FAIL",Oe="PLAYLIST_DELETE_REQUEST",xe="PLAYLIST_DELETE_SUCCESS",fe="PLAYLIST_DELETE_FAIL",ge=function(e){return function(){var t=Object(f.a)(x.a.mark((function t(a,n){var s,r,c,i,l;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:oe}),s=n(),r=s.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,m.a.get("/api/playlists/".concat(e),c);case 6:i=t.sent,l=i.data,console.log("Get playlist: ",l),a({type:je,payload:l}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:de,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},me=function(e){var t=e.history,a=Object(i.b)(),s=Object(i.c)((function(e){return e.userLogin})).userInfo,r=Object(i.c)((function(e){return e.playlists})),c=r.loading,l=r.error,j=r.allPlaylists,u=Object(i.c)((function(e){return e.songList})),p=u.error,b=u.songs,h=Object(i.c)((function(e){return e.playlistDelete})),O=h.error,g=h.success;Object(n.useEffect)((function(){s?(a(function(){var e=Object(f.a)(x.a.mark((function e(t,a){var n,s,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("getAllplaylist dispatch actions"),t({type:ce}),n=a(),s=n.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=7,m.a.get("/api/playlists",r);case 7:c=e.sent,t({type:ie,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:le,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()),0!==b.length||p||a(se())):t.push("/login?redirect=playlists")}),[a,t,s,g]);var y=function(e){var t;a((t=e._id,function(){var e=Object(f.a)(x.a.mark((function e(a,n){var s,r,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:Oe}),s=n(),r=s.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,m.a.delete("/api/playlists/".concat(t),c);case 6:a({type:xe}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),"Not authorized, token failed"===(i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&a(C()),a({type:fe,payload:i});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))};return Object(A.jsxs)(d.a,{children:[O&&Object(A.jsxs)(z,{variant:"danger",children:[" ",O," "]}),j&&Object(A.jsx)("h2",{children:"Playlists"}),Object(A.jsx)("div",{className:"d-flex justify-content-end",children:Object(A.jsx)(o.Link,{to:"/playlists/create",children:Object(A.jsxs)(_.a,{className:"my-3",variant:"primary",children:[Object(A.jsx)("i",{className:"fas fa-plus"})," Create playlist"]})})}),c?Object(A.jsx)(M,{}):l?Object(A.jsx)(z,{variant:"danger",children:l}):j.length>0?j.map((function(e,t){return Object(A.jsx)(d.a,{className:"py-3",children:Object(A.jsx)(Z.a,{mb:4,style:{cursor:"pointer"},children:Object(A.jsx)(R.a,{noGutters:!0,style:{paddingBottom:"2%"},children:Object(A.jsx)(B.a,{md:12,children:Object(A.jsxs)(Z.a.Body,{children:[Object(A.jsx)(o.Link,{to:"/playlists/".concat(e._id),style:{float:"left",width:"98%"},children:Object(A.jsxs)(Z.a.Title,{as:"h5",children:[Object(A.jsx)("span",{children:"Playlist : "}),e.playlistName]})}),Object(A.jsxs)(Z.a.Subtitle,{as:"div",style:{float:"left",width:"98%"},className:"text-muted",children:[Object(A.jsx)("span",{children:"Created Date : "}),new Date(e.createdAt).toISOString().split("T")[0]]}),Object(A.jsx)("div",{style:{float:"right",position:"absolute",right:"2%"},onClick:function(){return y(e)},children:Object(A.jsx)("i",{className:"fas fa-trash"})})]})})})})},t)})).reverse():Object(A.jsx)("strong",{children:"No Playlists available.."})]})},ye=a(28),ve=function(e){var t=e.history,a=Object(i.b)(),s=Object(i.c)((function(e){return e.userLogin})).userInfo,r=Object(i.c)((function(e){return e.songList})),c=r.loading,l=r.error,o=r.songs,j=Object(i.c)((function(e){return e.playlistCreate})),u=j.loading,p=j.error,b=Object(n.useState)(""),h=Object(w.a)(b,2),O=h[0],g=h[1],y=Object(n.useState)([]),v=Object(w.a)(y,2),S=v[0],L=v[1],N=Object(n.useState)(""),E=Object(w.a)(N,2),I=E[0],k=E[1],P=Object(n.useState)(""),R=Object(w.a)(P,2),B=R[0],U=R[1],D=Object(n.useState)([]),G=Object(w.a)(D,2),F=G[0],Y=G[1],Q=Object(n.useCallback)((function(){var e=o.filter((function(e){return e.title.toLowerCase().includes(I)}));Y(e),0===e.length?U("No records"):1===e.length?U("Found 1 record"):e.length>1&&U("Showing ".concat(e.length," records"))}),[I,o]);Object(n.useEffect)((function(){Y(o),""!==I&&Q()}),[a,I,Q]);return Object(A.jsxs)(d.a,{children:[u&&Object(A.jsx)(M,{}),p&&Object(A.jsx)(z,{variant:"danger",children:p}),Object(A.jsxs)("div",{className:"row no-gutters mb-3",children:[Object(A.jsx)("div",{className:"col-sm-10 px-3",children:Object(A.jsx)("h3",{children:Object(A.jsxs)(H.a,{className:"mb-3",children:[Object(A.jsx)(H.a.Prepend,{children:Object(A.jsx)(H.a.Text,{id:"playlist-name",children:"Playlist Name"})}),Object(A.jsx)(K.a,{type:"text",className:"form-control",name:"playlistName",id:"playlistName",placeholder:"Enter your playlist name",autoFocus:"",value:O,onChange:function(e){return g(e.target.value)},required:!0})]})})}),Object(A.jsx)("div",{className:"col-sm-2",children:Object(A.jsx)(T.a,{"aria-label":"list type",className:"d-flex",children:Object(A.jsx)(_.a,{variant:"primary",onClick:function(e){var n={playlistName:O,playlistSongs:S,createdBy:s._id};a(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(a,n){var s,r,c,i,l,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:pe}),s=n(),r=s.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,m.a.post("/api/playlists",e,c);case 6:i=t.sent,l=i.data,console.log("New Playlist",l),a({type:be,payload:l}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(C()),a({type:he,payload:o});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}(n)),0!==S.length&&(L([]),t.push("/playlists"))},disabled:!(O.length>=5),children:"Save playlist"})})})]}),Object(A.jsx)("div",{className:"col-sm-12  d-flex justify-content-center",children:Object(A.jsxs)("div",{className:"col-sm-8",children:[Object(A.jsx)(X,{searchBoxText:I,searchBoxChange:function(e){k(e)}}),I?Object(A.jsx)("div",{style:{float:"right",paddingBottom:"1%"},children:B}):null]})}),c?Object(A.jsx)(M,{}):l?Object(A.jsx)(z,{variant:"danger",children:l}):Object(A.jsx)(d.a,{className:"py-3",children:F?F.map((function(e,t){return Object(A.jsx)(ee,{song:e,showDelete:!1,showAddSong:!0,handleAddPlaylists:function(){return function(e){L([].concat(Object(ye.a)(S),[e]));var t=F.filter((function(t){return t._id!==e._id}));Y(t)}(e)}},t)})):Object(A.jsx)("strong",{children:"No songs in playlist"})})]})},Se=function(e){var t=e.history,a=e.match.params.id,s=Object(i.b)(),r=Object(i.c)((function(e){return e.playlistDetails})),c=r.loading,l=r.error,o=r.playlist,j=o._id,u=o.playlistName,p=o.playlistSongs,b=Object(i.c)((function(e){return e.songList})),h=b.loading,O=b.error,g=b.songs,y=Object(n.useState)(""),v=Object(w.a)(y,2),S=v[0],L=v[1],N=Object(n.useState)(""),E=Object(w.a)(N,2),I=E[0],k=E[1],P=Object(n.useState)(""),R=Object(w.a)(P,2),B=R[0],U=R[1],D=Object(n.useState)([]),G=Object(w.a)(D,2),F=G[0],Y=G[1],Q=Object(n.useState)(!1),J=Object(w.a)(Q,2),V=J[0],q=J[1],W=Object(n.useState)([]),Z=Object(w.a)(W,2),$=Z[0],te=Z[1];Object(n.useEffect)((function(){a!==j&&s(ge(a)),0===g.length&&s(se()),(p||""!==I)&&(V?ae(ne(g)):(ae(p),te(p))),L(u)}),[s,a,u,I,j,V,t]);var ae=function(e){var t=e.filter((function(e){return e.title.toLowerCase().includes(I)}));Y(t),0===t.length?U("No records"):1===t.length?U("Found 1 record"):t.length>1&&U("Showing ".concat(t.length," records"))},ne=function(e){var t=Object(ye.a)(e);return F.map((function(e,a){t=t.filter((function(e){return e._id!==F[a]._id}))})),t};return Object(A.jsxs)(d.a,{children:[Object(A.jsxs)("div",{className:"row no-gutters mb-3",children:[Object(A.jsx)("div",{className:"col-sm-10 px-3",children:Object(A.jsx)("h3",{children:Object(A.jsxs)(H.a,{className:"mb-3",children:[Object(A.jsx)(H.a.Prepend,{children:Object(A.jsx)(H.a.Text,{id:"playlist-name",children:"Playlist Name"})}),Object(A.jsx)(K.a,{type:"text",className:"form-control",name:"name",id:"name",placeholder:"Enter your playlist name",autoFocus:"",value:S||"",onChange:function(e){return L(e.target.value)},autoComplete:"off"})]})})}),Object(A.jsx)("div",{className:"col-sm-8",children:Object(A.jsxs)(T.a,{"aria-label":"list type",className:"d-flex px-3",children:[Object(A.jsxs)(_.a,{variant:"warning",onClick:function(){return function(e){if(e.length>1){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}Y(Object(ye.a)(e))}}(F)},children:[Object(A.jsx)("i",{className:"fas fa-random"})," Shuffle playlist"]}),Object(A.jsxs)(_.a,{variant:"info",onClick:function(){return q(!0)},disabled:!!V,children:[Object(A.jsx)("i",{className:"fas fa-plus"})," Add song"]}),Object(A.jsxs)(_.a,{variant:"primary",onClick:function(){var e={};e=V?{playlistName:S,playlistSongs:Object(ye.a)($)}:{playlistName:S,playlistSongs:Object(ye.a)(F)},s(function(e,t){return function(){var a=Object(f.a)(x.a.mark((function a(n,s){var r,c,i,l,o,j;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PLAYLIST_UPDATE_REQUEST"}),r=s(),c=r.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,m.a.put("/api/playlists/".concat(e),t,i);case 6:l=a.sent,o=l.data,n({type:"PLAYLIST_UPDATE_SUCCESS",payload:o}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),"Not authorized, token failed"===(j=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message)&&n(C()),n({type:"PLAYLIST_UPDATE_FAIL",payload:j});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(a,e)),s(ge(a)),t.push("/playlists")},children:[Object(A.jsx)("i",{className:"fas fa-save"})," Save playlist"]})]})})]}),Object(A.jsx)("div",{className:"col-sm-12  d-flex justify-content-center",children:Object(A.jsxs)("div",{className:"col-sm-8",children:[Object(A.jsx)(X,{searchBoxText:I,searchBoxChange:function(e){k(e)}}),I?Object(A.jsx)("div",{style:{float:"right",paddingBottom:"1%"},children:B}):null]})}),c||h?Object(A.jsx)(M,{}):l?Object(A.jsx)(z,{variant:"danger",children:l}):O?Object(A.jsx)(z,{variant:"danger",children:O}):Object(A.jsx)(d.a,{className:"py-3",children:F?F.map((function(e,t){return Object(A.jsx)(ee,{song:e,showDelete:!V,showAddSong:!!V,handleAddPlaylists:function(){return function(e){te([].concat(Object(ye.a)($),[e]));var t=F.filter((function(t){return t._id!==e._id}));Y(Object(ye.a)(t))}(e)},removeSongFromPlaylist:function(){return function(e){var t=F.filter((function(t){return t._id!==e}));Y(t),q(!1)}(e._id)}},t)})):Object(A.jsx)("strong",{children:"No songs in playlist"})})]})};var Le=function(){return Object(A.jsxs)(s.a.Fragment,{children:[Object(A.jsx)(l.a,{}),Object(A.jsxs)(o.BrowserRouter,{children:[Object(A.jsx)(P,{}),Object(A.jsx)("main",{className:"py-3",children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(j.g,{children:[Object(A.jsx)(j.d,{path:"/songs",component:re}),Object(A.jsx)(j.d,{path:"/playlists/create",component:ve}),Object(A.jsx)(j.d,{path:"/playlists/:id",component:Se}),Object(A.jsx)(j.d,{path:"/playlists",exact:!0,component:me}),Object(A.jsx)(j.d,{path:"/login",component:q}),Object(A.jsx)(j.d,{path:"/register",component:V}),Object(A.jsx)(j.d,{path:"/",exact:!0,component:W}),Object(A.jsx)(j.d,{path:"/not-found",component:D}),Object(A.jsx)(j.c,{to:"/not-found"})]})})}),Object(A.jsx)(U,{})]})]})},Ne=a(32),Ee=a(79),Ie=a(80),Ce=a(37),we=Object(Ne.combineReducers)({songList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case ae:return{loading:!1,songs:t.payload.data};case ne:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case v:return{loading:!1,userInfo:t.payload};case S:return{loading:!1,error:t.payload};case L:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case E:return{loading:!1,userInfo:t.payload};case I:return{loading:!1,error:t.payload};case L:return{};default:return e}},playlists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allPlaylists:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{loading:!0};case ie:return{loading:!1,allPlaylists:t.payload.data};case le:return{loading:!1,error:t.payload};default:return e}},playlistCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{loading:!0};case be:return{loading:!1,success:!0};case he:return{loading:!1,error:t.payload};default:return e}},playlistDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{playlist:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(Ce.a)(Object(Ce.a)({},e),{},{loading:!0,playlist:{}});case je:return{loading:!1,playlist:t.payload};case de:return{loading:!1,error:t.payload};case ue:return{};default:return e}},playlistDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case xe:return{loading:!1,success:!0};case fe:return{loading:!1,error:t.payload};default:return e}}}),Te={songList:{songs:[]},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},playlists:{allPlaylists:[]}},_e=[Ee.a],Ae=Object(Ne.createStore)(we,Te,Object(Ie.composeWithDevTools)(Ne.applyMiddleware.apply(void 0,_e)));c.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)(i.a,{store:Ae,children:Object(A.jsx)(Le,{})})}),document.getElementById("root"))},62:function(e,t,a){},86:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.502525ed.chunk.js.map